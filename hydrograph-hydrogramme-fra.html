<!--#include virtual="/includes/header-fra.html" -->
<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="/js/flot/excanvas.min.js"></script><![endif]-->
<script type="text/javascript" src="scripts/hydrograph-hydrogramme.js"></script> 
<script type="text/javascript" src="scripts/flot/jquery.flot.time.js"></script>    
<script type="text/javascript" src="scripts/flot/jshashtable-2.1.js"></script>    
<script type="text/javascript" src="scripts/flot/jquery.numberformatter-1.2.3.min.js"></script>
<script type="text/javascript" src="scripts/flot/jquery.flot.symbol.js"></script>
<script type="text/javascript" src="scripts/flot/jquery.flot.stack.js"></script>
<script type="text/javascript">
var data = [];
var data2 = [];
var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
var dataset;
var totalPoints = 60;
var updateInterval = 500;
var now = new Date();
var now2 = new Date();
var date_inc = 0;


function GetData() {
    data.shift();

    while (data.length < totalPoints) {     
        var y = Math.random() * 1000 + 1250;
        var temp = [new Date(now), y];
        now.setDate(now.getDate()+1);

        data.push(temp);
    }

    data2.shift();

    while (data2.length < totalPoints) {
        var y = Math.random() * 800 + 500;
        var temp = [new Date(now2), y];
        now2.setDate(now2.getDate()+1);

        data2.push(temp);
    }
}

var options = {
    series: {
        lines: {
            show: true,
            lineWidth: 1.2,
            fill: true
        },
        stack: true,
        points: {
          show:false
        }
    },
    xaxis: {
        mode: "time",
        tickSize: [1, "day"],
        minTickSize: [2, "month"],
        tickFormatter: function (v, axis) {
          var date = new Date(v);

          if (date.getDate() % 10 == 0) {
            //var hours = date.getHours() < 10 ? "0" + date.getHours() : date.getHours();
            //var minutes = date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes();
            //var seconds = date.getSeconds() < 10 ? "0" + date.getSeconds() : date.getSeconds();

            return monthNames[date.getMonth()] + " " + date.getDate();
          } else {
            return "";
          }
        },
        axisLabel: "Date",
        axisLabelUseCanvas: true,
        axisLabelFontSizePixels: 12,
        axisLabelFontFamily: 'Verdana, Arial',
        axisLabelPadding: 10
    },
    yaxis: {
        min: 0,
        max: 3170,
        tickSize: 5,
        tickFormatter: function (v, axis) {
            if (v % 500 == 0) {
                return v;
            } else {
                return "";
            }
        },
        axisLabel: "Hope Discharge (m3s)",
        axisLabelUseCanvas: true,
        axisLabelFontSizePixels: 12,
        axisLabelFontFamily: 'Verdana, Arial',
        axisLabelPadding: 6
    },
    legend: {        
    },
    grid: {                
    }
};

$(document).ready(function () {
    GetData();

    dataset = [
        { data: data2 },
        { data: data }

    ];

    $.plot($("#flot-placeholder1"), dataset, options);

    function update() {
        GetData();

        $.plot($("#flot-placeholder1"), dataset, options)
        setTimeout(update, updateInterval);
    }

    update();
});
</script>

<h1>Hydrographie du fleuve Fraser à Hope (C. B.)</h1>
<div class="wet-boew-tabbedinterface animate slide-horz tabs-style-1 auto-height print_hide">
  <ul class="tabs">
    <li class="default"><a href="#parameters">Paramètres</a></li>
    <li><a href="#help">Aide</a></li>
  </ul>

  <div class="summary tabs-panel filled" style="border: 2px solid #eee">
    <div id="parameters">
      <form id="daily_depth">
        <div class="span-4">
          <label for="date">Date :</label>
          <input id="date" type="text" name="date" class="datepicker" />
          <input id="alt-date" type="hidden" />

          <label for="period">Période :</label>
          <select id="period">
            <option>3 Months</option>
            <option>6 Months</option>
            <option>9 Months</option>
            <option>12 Months</option>
          </select>
        </div>

        <div class="span-3">
          <label for="plot">Relevé :</label>
          <input id="actual" type="checkbox" name="actual" checked="checked" /> Réel<br />
          <input id="predicted" type="checkbox" name="predicted" checked="checked" /> Prévu
        </div>
      </form>
    </div>

    <div id="help" style="height: 150px">
      <p>
      Avadepth produit des diagrammes hydrographiques illustrant les variations saisonnières des débits. Chaque diagramme contient des lignes de couleur représentant les débits réels et prévus, ainsi que des lignes pour les périodes correspondantes au cours deux autres années (désignées année d'inondation et année de sécheresse)
      </p>

      <p>
      Pour créer un diagramme hydrographique,
      </p>

      <ul>
        <li>Introduire une date. Cliquer sur la date texte pour choisir dans un calendrier.</li>
        <li>Sélectionner la durée du relevé.</li>
        <li>Cliquer sur l'une ou l'autre des cases à cocher pour désactiver l'affichage d'une ligne hydrographique.</li>
      </ul>
    </div>
  </div>
</div>

<div class="clear"></div>
<div class="span-12 demo-container">
  <div class="print_show">
    <p><span id="static-date"></span> during a period of <span id="static-period">3 Months</span></p>
  </div>
<div id="flot-placeholder1" style="width:550px;height:300px;margin:0 auto"></div>
</div> 
<!--#include virtual="/includes/footer-fra.html" -->
